{% extends "base.html" %}

{% block content %}
<div class="form-page" style="max-width: 500px; margin: 2rem auto; background: #fff; border-radius: 8px; box-shadow: 0 2px 12px rgba(0,0,0,0.07); padding: 2rem;">
    <h2 class="text-center" style="margin-bottom: 1.5rem;">Edit Song</h2>
    <form method="post">
        <div class="form-group">
            <label for="title">Title</label>
            <input type="text" id="title" name="title" value="{{ song.title }}" required autocomplete="off">
        </div>
        <div class="form-group">
            <label for="artist_id">Artist</label>
            <select id="artist_id" name="artist_id" required>
                <option value="" disabled>Select an artist</option>
                {% for artist in artists %}
                <option value="{{ artist.id }}" {% if artist.id == song.artist_id %}selected{% endif %}>{{ artist.name }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label for="album_id">Album</label>
            <select id="album_id" name="album_id">
                <option value="" {% if not song.album_id %}selected{% endif %}>None</option>
                {% for album in albums %}
                <option value="{{ album.id }}" {% if album.id == song.album_id %}selected{% endif %}>{{ album.title }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label for="genre">Genre</label>
            <select id="genre" name="genre" required>
                <option value="" disabled>Select a genre</option>
                {% for genre in genres %}
                <option value="{{ genre }}" {% if genre == song.genre.value %}selected{% endif %}>{{ genre }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label for="duration">Duration</label>
            <input type="text" id="duration" name="duration" value="{{ song.duration }}" placeholder="e.g. 03:45">
        </div>
        <div class="form-actions" style="display: flex; gap: 1rem; justify-content: flex-end; margin-top: 1.5rem;">
            <button type="submit" class="btn btn-primary">Save</button>
            <a href="{{ url_for('songs.index') }}" class="btn btn-secondary" style="background: #eee; color: #333; border: 1px solid #ccc;">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}
