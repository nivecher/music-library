{% extends "base.html" %}

{% block content %}
<div class="container">
    <h1>Edit Song</h1>
    <form method="post">
        <div class="form-group">
            <label for="title">Title:</label>
            <input type="text" class="form-control" id="title" name="title" value="{{ song.title }}" required>
        </div>
        <div class="form-group">
            <label for="artist_id">Artist:</label>
            <select class="form-control" id="artist_id" name="artist_id" required>
                <option value="" disabled>Select an artist</option>
                {% for artist in artists %}
                <option value="{{ artist.id }}" {% if artist.id == song.artist_id %}selected{% endif %}>
                    {{ artist.name }}
                </option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label for="album_id">Album:</label>
            <select class="form-control" id="album_id" name="album_id">
                <option value="" selected>None</option>
                {% for album in albums %}
                <option value="{{ album.id }}" {% if album.id == song.album_id %}selected{% endif %}>
                    {{ album.title }}
                </option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label for="genre">Genre:</label>
            <select class="form-control" id="genre" name="genre" required>
                <option value="" disabled>Select a genre</option>
                {% for genre in genres %}
                <option value="{{ genre }}" {% if genre == song.genre %}selected{% endif %}>
                    {{ genre }}
                </option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label for="duration">Duration:</label>
            <input type="text" class="form-control" id="duration" name="duration" value="{{ song.duration }}">
        </div>
        <button type="submit" class="btn btn-primary">Save</button>
        <a href="{{ url_for('songs.index') }}" class="btn btn-secondary">Cancel</a>
    </form>
</div>
{% endblock %}
